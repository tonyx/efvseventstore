# Purpose of this test

Part of this solution is generated by "prompt engineering" (or vibe coding). 
This test is to compare the style and the performance of Entity Framework with C# respect to the equivalent logic using F# and Sharpino.

# How to run

1. Clone this repository
2. Specify your postgres connection string in the appsettings.json file
2. Setup the database using ef (dotnet ef database update - in case of problems:refer to official documentation)
3. Enter in the directory efexample.Tests
4. Run the massiv insert tests (dotnet test)
You will see the results like the following:
```
Inserted 1000 students in 68ms (14705,88 students/second)
Inserted 5000 students in 354ms (14124,29 students/second)
Inserted 10000 students in 469ms (21321,96 students/second)
Inserted 100000 students in 2763ms (36192,54 students/second)
```

Note: the equivalent in Sharpino version is:
```
Inserting 1000 students in batch took 31 ms
Inserting 5000 students in batch took 144 ms
Inserting 10000 students in batch took 326 ms
Inserting 100000 students in batch took 3855 ms
```

In this example, Sharpino is faster than Entity Framework for smaller batches.
It might be the case that different combinations of parameters may yield different results. As an illustration, the serialization may be significantly influenced by the class's number of fields. 

However, the point is, do not get worried about performance issues in using an EventStore, the EventSourcing, and a functional language in your ecosystem, which is, in this case, .NET (but I expect something similar when talking about other ecosystems and languages like JVM and Scala or Kotlin). 

One more point is that the structure of an F# solution is incredibly simple compared to the equivalent in C# with EF.

You can find the equivalent example in [sharpino/F#](https://github.com/tonyx/Sharpino/tree/main/Sharpino.Sample.11)
